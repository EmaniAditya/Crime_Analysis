<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@0.7.4/dist/tailwind.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Means Clustering</title>

    <link rel="stylesheet" href="{{url_for('static',filename='stylesheets/style.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='stylesheets/graphanalysis.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='stylesheets/K-means.css')}}">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="{{url_for('static',filename='javascript/linearregression.js')}}"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
    <script src="http://www.skulpt.org/js/skulpt.min.js" type="text/javascript"></script>
    <script src="http://www.skulpt.org/js/skulpt-stdlib.js" type="text/javascript"></script>



    <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css'>
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js'></script>

    <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>


    <script src="https://kit.fontawesome.com/7bdcd846e8.js" crossorigin="anonymous"></script>



    <script src="https://cdn.lordicon.com/libs/frhvbuzj/lord-icon-2.0.2.js"></script>


</head>





<body>
    <nav class="main" style="width: 100%;">
        <a href="{{url_for('index')}}"><label style="margin-left:0;"class="logo">Crime Hotspots Prediction & Analysis</label></a>
        <ul>
            <li><a href="{{url_for('index')}}">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Feedback</a></li>
        </ul>
        <nav class="secondnav">
            <label class="log" href="#"> K-MEANS CLUSTERING</label>
        </nav>

    </nav>

    <div style=" padding:2px; margin-top: 120px; margin-left:40%;">
        <a style=" color:#222222; text-decoration: none; " href="#sectionId">Jump To Prediction</a>
    </div>
    <div style="margin-left:12%; width: 70%; margin-right:12%; margin-bottom:30px; ">
        <div style="margin-top: 30px; margin-left: 20px; border-radius:10px; width:auto; text-align:center; background-color:#bbbb; padding:4px; ">
            K-Means Clustering is an Unsupervised Machine Learning algorithm, which groups the unlabeled dataset into different clusters. K-means is a centroid-based algorithm or a distance-based algorithm, where we calculate the distances to assign a point to a
            cluster. In K-Means, each cluster is associated with a centroid.</p>
        </div>


        <div style=" margin-top: 30px; margin-left: 20px; border-radius:10px; text-align:center; text-decoration: none; background-color:#bbbb; padding:4px;">
            <a href="{{url_for('datadisp')}}">CLICK HERE TO VIEW THE DATA SET</a>
        </div>

        <p style="margin-top: 30px; margin-left: 20px; border-radius:10px; text-align:center; text-decoration: none; background-color:#bbbb; padding:4px;"> <b>Distance Metric used:</b></p>

        <div style="display: flex;
        justify-content: center;
        align-items: center;
"> <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="276.000000pt" height="85.000000pt" viewBox="0 0 276.000000 136.000000" preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,136.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M2575 1280 c-17 -7 -17 -9 -2 -9 14 -1 17 -10 17 -50 0 -39 -4 -51
-17 -54 -10 -3 0 -5 22 -5 22 0 34 2 28 5 -9 3 -13 26 -13 64 0 61 -2 63 -35
49z"/>
<path d="M267 1083 c-91 -126 -131 -316 -116 -554 7 -101 26 -182 61 -264 26
-59 85 -145 100 -145 6 0 3 10 -6 22 -36 50 -86 167 -101 238 -25 115 -30 307
-12 426 18 115 42 186 91 267 42 69 31 75 -17 10z"/>
<path d="M2266 1073 c48 -81 73 -152 89 -262 38 -247 -1 -510 -95 -646 -17
-25 -27 -45 -21 -45 12 0 72 84 95 135 95 207 94 545 -3 745 -30 61 -78 130
-91 130 -5 0 7 -26 26 -57z"/>
<path d="M2530 1100 c0 -6 30 -10 70 -10 40 0 70 4 70 10 0 6 -30 10 -70 10
-40 0 -70 -4 -70 -10z"/>
<path d="M522 1028 c-18 -18 -14 -32 5 -17 17 15 17 15 -3 -58 -4 -14 -2 -23
5 -23 6 0 13 12 16 28 9 39 20 57 39 60 15 3 17 -2 10 -43 -6 -45 -6 -47 16
-43 13 1 26 10 28 18 5 13 3 13 -11 1 -16 -12 -16 -10 -11 31 7 47 -7 66 -36
48 -8 -5 -21 -5 -30 0 -11 6 -21 5 -28 -2z"/>
<path d="M2554 1019 c-3 -6 -3 -13 0 -16 3 -4 6 -1 6 5 0 7 4 12 9 12 10 0 -7
-79 -22 -97 -7 -10 -2 -13 19 -13 21 0 25 3 15 9 -7 5 -10 14 -7 20 4 6 11 9
15 7 4 -3 18 2 30 10 15 11 21 24 19 42 -3 23 -8 27 -40 29 -21 1 -40 -2 -44
-8z m70 -21 c-9 -33 -26 -50 -36 -40 -13 13 9 62 27 62 12 0 15 -6 9 -22z"/>
<path d="M350 854 c0 -3 41 -62 91 -130 l90 -125 -73 -82 c-40 -45 -82 -92
-92 -104 l-19 -23 206 0 206 0 19 53 c11 28 18 54 16 56 -2 2 -15 -10 -29 -27
-34 -41 -98 -53 -247 -50 l-116 3 87 99 88 100 -77 105 -78 106 130 3 c115 2
135 0 174 -18 24 -12 46 -30 49 -41 4 -10 11 -19 16 -19 5 0 2 17 -7 38 -9 20
-18 43 -21 50 -4 9 -55 12 -209 12 -112 0 -204 -3 -204 -6z"/>
<path d="M2080 796 c-16 -16 -12 -30 5 -16 8 7 15 9 15 6 0 -19 -24 -102 -31
-110 -15 -17 -10 -26 16 -26 22 0 24 3 19 29 -6 26 -4 28 19 24 31 -6 60 32
55 74 -3 26 -7 28 -45 29 -24 0 -47 -4 -53 -10z m80 -27 c0 -30 -18 -59 -37
-59 -12 0 -14 7 -9 32 11 55 46 75 46 27z"/>
<path d="M910 625 c0 -103 4 -165 10 -165 6 0 10 62 10 165 0 103 -4 165 -10
165 -6 0 -10 -62 -10 -165z"/>
<path d="M2010 625 c0 -103 4 -165 10 -165 6 0 10 62 10 165 0 103 -4 165 -10
165 -6 0 -10 -62 -10 -165z"/>
<path d="M1007 672 c-10 -10 -17 -24 -17 -31 0 -7 11 0 23 15 28 32 50 25 41
-14 -14 -64 -26 -92 -41 -92 -12 0 -13 3 -4 14 9 11 9 16 1 21 -16 10 -34 -10
-27 -29 7 -18 38 -21 54 -5 8 8 13 8 17 0 12 -19 54 -12 70 11 9 12 13 24 11
27 -3 3 -12 -5 -21 -17 -20 -29 -44 -28 -44 1 0 37 20 95 34 100 10 4 12 0 9
-14 -4 -13 0 -19 12 -19 11 0 15 7 13 22 -3 26 -36 37 -49 17 -6 -11 -11 -11
-21 -1 -17 17 -42 15 -61 -6z"/>
<path d="M1717 672 c-9 -10 -17 -25 -17 -33 0 -9 5 -7 12 6 11 19 30 36 35 31
1 -1 -4 -25 -11 -53 -16 -58 -7 -83 29 -83 27 0 33 -18 13 -38 -16 -16 -46
-15 -44 1 2 22 -19 22 -22 0 -2 -17 3 -24 21 -28 32 -8 63 8 81 43 20 40 46
161 35 168 -10 6 -11 3 -36 -76 -14 -42 -23 -55 -38 -55 -17 0 -19 5 -16 35 8
73 6 94 -10 98 -8 1 -23 -6 -32 -16z"/>
<path d="M1217 643 c-4 -3 -7 -11 -7 -17 0 -6 5 -5 12 2 6 6 9 14 7 17 -3 3
-9 2 -12 -2z"/>
<path d="M1907 643 c-4 -3 -7 -11 -7 -17 0 -6 5 -5 12 2 6 6 9 14 7 17 -3 3
-9 2 -12 -2z"/>
<path d="M1433 623 c32 -2 81 -2 110 0 29 2 3 3 -58 3 -60 0 -84 -1 -52 -3z"/>
<path d="M1177 583 c-15 -14 -6 -25 10 -12 15 12 16 12 9 -6 -4 -11 -10 -33
-13 -48 -5 -26 -3 -28 18 -25 14 2 25 11 27 23 l4 20 -17 -20 c-16 -20 -16
-20 -11 5 3 14 9 35 12 48 5 17 2 22 -13 22 -11 0 -23 -3 -26 -7z"/>
<path d="M1866 574 c-9 -24 -7 -31 5 -11 19 32 28 17 14 -22 -7 -22 -11 -42
-8 -45 13 -13 33 -5 43 17 11 21 10 21 -4 3 -23 -28 -29 -15 -12 26 9 20 12
38 9 42 -12 12 -41 6 -47 -10z"/>
<path d="M425 321 c-6 -11 9 -23 19 -14 9 9 7 23 -3 23 -6 0 -12 -4 -16 -9z"/>
<path d="M690 319 c-16 -4 -19 -7 -7 -8 14 -1 17 -11 17 -61 0 -47 -3 -60 -15
-60 -8 0 -15 -4 -15 -10 0 -5 18 -10 40 -10 22 0 40 5 40 10 0 6 -7 10 -15 10
-11 0 -15 16 -17 68 -3 67 -3 68 -28 61z"/>
<path d="M402 268 c-7 -7 -12 -16 -12 -22 0 -5 7 -1 16 10 15 18 15 18 10 -6
-19 -79 -19 -80 2 -80 11 0 23 7 26 16 10 26 7 29 -10 8 -15 -18 -15 -17 -8
11 15 64 4 91 -24 63z"/>
<path d="M513 253 c26 -2 67 -2 90 0 23 2 2 3 -48 3 -49 0 -68 -1 -42 -3z"/>
<path d="M480 210 c0 -6 32 -10 75 -10 43 0 75 4 75 10 0 6 -32 10 -75 10 -43
0 -75 -4 -75 -10z"/>
</g>
</svg>
        </div>
        <p style="margin-top: 30px; margin-left: 20px;  border-radius:10px; text-align:center; text-decoration: none; background-color:#bbbb; padding:4px;"><b>Number of Clusters:</b></p>
        <div style="display: flex;
        justify-content: center;
        align-items: center;
"> <img src="{{url_for('static',filename='images/kmeans_elb.png')}}" style=" margin-left: 30px;margin-top: 20px; border-radius:10px; height: 400px; width:500px;border: 1px solid black;"></div>
        <div style="margin-top: 30px; margin-left: 20px; border-radius:10px; text-align:center; text-decoration: none; background-color:#bbbb; padding:4px;">
            <h2 style="margin-bottom: 10px;">Cluster Centroids:</h2>
            <ul style="text-align: left;">
                <li><b>Low Crime Rate Area :</b> [38.6, 32.5, 22.3, 31.3, 5.9, 19.3, 221.5, 208.7]
                </li>
                <br>
                <li><b>High Crime Rate Area :</b> [175.8, 174.1, 89.7 ,180.3, 28.6, 364.3, 7534.7, 3080.7]</li>
                <br>
                <li><b>Moderate Crime Rate Area</b> [79.8, 74.9, 50.8, 83.6, 10.8, 61.6, 1019.0, 1138.2]</li>

            </ul>
        </div>


        <p style="margin-top: 30px; margin-left: 20px; border-radius:10px; text-align:center; text-decoration: none; background-color:#bbbb;  padding:4px;"><b>Clusters Plotted Using PCA and Follium Mapping:</b></p>
        <iframe src="{{url_for('static',filename='images/clusters_folium.html')}}" style=" float:left; margin-left: 30px;margin-top: 20px; border-radius:10px; height: 300px; width:45%;border: 1px solid black;"></iframe>
        <img src="{{url_for('static',filename='images/kmeans_clusters.png')}}" style=" float:right; margin-left: 30px;margin-top: 20px; border-radius:10px; height: 300px; width:45%;border: 1px solid black; margin-bottom: 30px;;">



    </div>

    <div style="clear:both; ">
    </div>
    <!---This is for prediction-->
    <div class="predictions">
        <nav id="sectionId" class="prediction">
            <label class="log" href="#"> PREDICTION:</label>
        </nav>

        <form action="{{url_for('KMeansclu')}}" method="post">
            <div class="selects" style="display:inline-block; margin-top: 25px; margin-left:100px; display:flex; justify-content: center; align-items: center;" col-md-4>
                <div class="for-select" style="margin-left:30px;">
                    <label for="state_input">State:</label>
                    <select id="state_input" name="state_input"></select>
                </div>
                <div class="for-select">
                    <label for="district_input">District:</label>
                    <select name="district_input" id="district_input">
                <option disabled selected> Select District</option>
            </select>
                </div>
                <script language="javascript">
                    populateStates("state_input", "district_input");
                </script>
                <div class="for-select">
                    <label for="year-input">Year:</label>
                    <select name="year" id="year-input" style=" padding :10px 0px;">
                <option disabled selected> Select Year </option>
            </select>
                </div>
                <script>
                    Addyears("year-input");
                </script>
            </div>

            <div class="input-container;" style="align-items:center; display:flex; flex-wrap:wrap; justify-content: center; height:100%">
                <div class="form-input">
                    <label for="murder-input">MURDER:</label>
                    <input type="number" name="Murder" id="murder-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="attemp-to-murder-input">ATTEMPT TO MURDER:</label>
                    <input type="number" name="Attempt To Murder" id="attemp-to-murder-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="rape-input">RAPE:</label>
                    <input type="number" name="Rape" id="rape-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="kidnapping-and-abduction">KIDNAPPING & ABDUCTION:</label>
                    <input type="number" name="Kidnapping and abduction" id="kidnapping-and-abduction" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="dacoity-input">DACOITY:</label>
                    <input type="number" name="dacoity" id="dacoity-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="robbery-input">ROBBERY:</label>
                    <input type="number" name="Robbery" id="robbery-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="theft-input">THEFT:</label>
                    <input type="number" name="theft-input" id="theft-input" value="Default value"></input>
                </div>
                <div class="form-input">
                    <label for="hurt/grevious-hurt-input">HURT/GREVIOUS HURT:</label>
                    <input type="number" name="Hurt/Grevious-Hurt" id="hurt/grevious-hurt-input" value="Default value"></input>
                </div>
            </div>


            <button class="button" style="margin-left:50%; margin-top: 2%;" onclick="document.getElementById('prediction-input').style.display='block'">Submit</button>


        </form>
        <br>

        <div style="margin-left:40%; margin-top: 25px; margin-bottom: 60px; ">
            <label for="prediction-input">Prediction:</label>
            <p>{{ prediction_text }} </p>
        </div>
    </div>
    </section>

    </div>
    <footer>
        <p> Copyright &copy; 2023. All rights reserved.</p>

    </footer>

</body>

</html>